/* ============================================================
   Claudettes Snack Shoppe â€“ Design System
   Soft & Minimal Kiosk Theme
   ============================================================ */

:root {
    /* Primary palette */
    --color-primary: #6C9BCF;
    --color-primary-light: #E8F0FE;
    --color-primary-hover: #5A87B8;

    /* Accent colors */
    --color-accent-mint: #A8D5BA;
    --color-accent-coral: #F4A6A0;
    --color-accent-lavender: #B8A9C9;
    --color-accent-amber: #F0D9A0;

    /* Neutrals */
    --color-bg: #F7F8FA;
    --color-surface: #FFFFFF;
    --color-border: #EAECF0;
    --color-text-primary: #1D2939;
    --color-text-secondary: #667085;
    --color-text-tertiary: #98A2B3;

    /* Shadows */
    --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.04);
    --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.06);
    --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.08);
    --shadow-hover: 0 8px 20px rgba(108, 155, 207, 0.15);

    /* Radii */
    --radius-sm: 10px;
    --radius-md: 16px;
    --radius-lg: 24px;
    --radius-pill: 50px;
    --radius-circle: 50%;

    /* Transitions */
    --transition-fast: 0.15s ease;
    --transition-base: 0.25s cubic-bezier(0.4, 0, 0.2, 1);

    /* Typography */
    --font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;

    /* Layout */
    --header-height-logged-out: 72px;
    --header-height-logged-in: 120px;
}

/* ---- Base ---- */

*, *::before, *::after { box-sizing: border-box; }

body {
    background-color: var(--color-bg);
    font-family: var(--font-family);
    padding-top: var(--header-height-logged-out);
    scroll-behavior: smooth;
    color: var(--color-text-primary);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

body.logged-in {
    padding-top: var(--header-height-logged-in);
}

/* ---- Fixed Header ---- */

.fixed-header {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 2000;
    background: var(--color-surface);
    border-bottom: 1px solid var(--color-border);
    box-shadow: var(--shadow-sm);
}

/* ---- Navbar ---- */

.navbar {
    padding: 12px 20px;
}

.navbar-brand {
    font-weight: 600;
    font-size: 1.4rem;
    color: var(--color-text-primary) !important;
    letter-spacing: -0.01em;
}

.navbar .btn {
    font-weight: 500;
    font-size: 0.9rem;
    border-radius: var(--radius-pill);
    padding: 10px 18px;
    transition: var(--transition-base);
}

.navbar .badge {
    border-radius: var(--radius-pill);
}

/* ---- Search Bar ---- */

/* ---- Category Navigation (logged in) ---- */

.category-nav {
    display: none;  /* hidden on desktop kiosk, shown on mobile */
    overflow-x: auto;
    white-space: nowrap;
    padding: 10px 16px;
    gap: 8px;
    background: var(--color-surface);
    scrollbar-width: none;
}
.category-nav::-webkit-scrollbar { display: none; }

.nav-chip {
    padding: 8px 20px;
    background: var(--color-bg);
    border: 1.5px solid var(--color-border);
    border-radius: var(--radius-pill);
    text-decoration: none;
    color: var(--color-text-secondary);
    font-weight: 500;
    font-size: 0.9rem;
    transition: var(--transition-base);
}

.nav-chip:hover {
    background: var(--color-primary-light);
    border-color: var(--color-primary);
    color: var(--color-primary);
}

/* ---- Category Sidebar (kiosk desktop only) ---- */

.category-sidebar {
    position: fixed;
    top: var(--header-height-logged-in);
    left: 0;
    bottom: 0;
    width: 180px;
    background: var(--color-surface);
    border-right: 1px solid var(--color-border);
    overflow-y: auto;
    padding: 16px 0;
    z-index: 1000;
    scrollbar-width: none;
}
.category-sidebar::-webkit-scrollbar { display: none; }

.sidebar-link {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 14px 20px;
    text-decoration: none;
    color: var(--color-text-secondary);
    font-weight: 500;
    font-size: 0.95rem;
    border-left: 3px solid transparent;
    transition: var(--transition-base);
}

.sidebar-link:hover {
    background: var(--color-primary-light);
    color: var(--color-primary);
}

.sidebar-link.active {
    background: var(--color-primary-light);
    color: var(--color-primary);
    border-left-color: var(--color-primary);
    font-weight: 600;
}

.sidebar-link i {
    width: 20px;
    text-align: center;
    font-size: 1rem;
}

/* Offset main content when sidebar is visible */
body.logged-in:not(.mobile-site) .container {
    margin-left: 180px;
}

/* ---- Page Title ---- */

.page-title {
    text-align: center;
    margin-bottom: 32px;
    font-weight: 600;
    font-size: 1.5rem;
    color: var(--color-text-secondary);
    letter-spacing: -0.01em;
}

/* ---- User Tiles (logged-out grid) ---- */

.user-tile {
    border-radius: var(--radius-lg);
    border: 1px solid var(--color-border);
    background: var(--color-surface);
    min-height: 180px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    box-shadow: var(--shadow-sm);
    position: relative;
    transition: var(--transition-base);
    cursor: pointer;
}

.user-tile:hover {
    box-shadow: var(--shadow-hover);
    transform: translateY(-3px);
    border-color: var(--color-primary);
}

.user-tile:active {
    transform: scale(0.96);
    background: var(--color-primary-light);
    border-color: var(--color-primary);
}

/* ---- Initial Avatar (pastel rotation) ---- */

.initial-avatar {
    width: 72px;
    height: 72px;
    border-radius: var(--radius-circle);
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 12px;
    font-weight: 600;
    font-size: 1.6rem;
    transition: var(--transition-base);
}

.row > .col:nth-child(6n+1) .initial-avatar { background: #DBEAFE; color: #3B82F6; }
.row > .col:nth-child(6n+2) .initial-avatar { background: #D1FAE5; color: #10B981; }
.row > .col:nth-child(6n+3) .initial-avatar { background: #FEE2E2; color: #EF4444; }
.row > .col:nth-child(6n+4) .initial-avatar { background: #F3E8FF; color: #8B5CF6; }
.row > .col:nth-child(6n+5) .initial-avatar { background: #FEF3C7; color: #F59E0B; }
.row > .col:nth-child(6n+6) .initial-avatar { background: #E0F2FE; color: #0EA5E9; }

/* ---- User Name ---- */

.user-name {
    font-weight: 500;
    font-size: 1.05rem;
    color: var(--color-text-primary);
    line-height: 1.3;
}

/* ---- Badge Icons ---- */

.badge-lock {
    position: absolute;
    top: 12px;
    right: 12px;
    color: var(--color-text-tertiary);
    font-size: 0.9rem;
}

.badge-admin {
    position: absolute;
    top: 12px;
    left: 12px;
    color: var(--color-primary);
    font-size: 0.9rem;
}

.user-tile:active .badge-lock,
.user-tile:active .badge-admin {
    color: var(--color-primary);
}

/* ---- Anchor Points ---- */

/* ---- Section Titles ---- */

.section-title {
    font-weight: 700;
    font-size: 1.3rem;
    margin: 40px 0 20px;
    padding-left: 14px;
    border-left: 4px solid var(--color-primary);
    color: var(--color-text-primary);
    text-transform: uppercase;
    letter-spacing: 0.04em;
}

/* ---- Product Cards ---- */

.product-card {
    background: var(--color-surface);
    border-radius: var(--radius-lg);
    border: 1px solid var(--color-border);
    padding: 24px;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    box-shadow: var(--shadow-sm);
    transition: var(--transition-base);
}

.product-card:hover {
    box-shadow: var(--shadow-md);
    transform: translateY(-2px);
}

.product-img {
    width: 100px;
    height: 100px;
    object-fit: contain;
    margin: 0 auto;
}

/* ---- Purchase Button ---- */

.purchase-btn {
    background: var(--color-primary);
    color: white;
    border: none;
    border-radius: var(--radius-pill);
    padding: 14px;
    font-weight: 600;
    width: 100%;
    font-size: 0.95rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    transition: var(--transition-base);
}

.purchase-btn:hover {
    background: var(--color-primary-hover);
    box-shadow: var(--shadow-md);
    transform: translateY(-1px);
}

.purchase-btn:active {
    transform: scale(0.97);
}

/* ---- Version Tag ---- */

.version-tag {
    font-size: 0.7rem;
    color: var(--color-text-tertiary);
    text-align: center;
    padding: 60px 0 20px;
}

/* ---- PIN Overlay ---- */

#pinOverlay {
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
}

#pinDots, #pinSetDots {
    color: var(--color-primary) !important;
}

/* ---- Modals ---- */

.modal-content {
    border-radius: var(--radius-lg) !important;
    border: none;
    box-shadow: var(--shadow-lg);
}

/* ---- Bootstrap Overrides (soft palette) ---- */

.text-primary {
    color: var(--color-primary) !important;
}

.text-success {
    color: #10B981 !important;
}

.badge.bg-success {
    background: var(--color-accent-mint) !important;
    color: #065F46 !important;
}

.badge.bg-danger {
    background: var(--color-accent-coral) !important;
    color: #991B1B !important;
}

.btn-outline-dark {
    border-color: var(--color-border);
    color: var(--color-text-primary);
}
.btn-outline-dark:hover {
    background: var(--color-bg);
    border-color: var(--color-text-secondary);
    color: var(--color-text-primary);
}

.btn-outline-secondary {
    border-color: var(--color-border);
    color: var(--color-text-secondary);
}

.btn-outline-info {
    border-color: var(--color-accent-lavender);
    color: #7C6C8F;
}
.btn-outline-info:hover {
    background: #F3EEFA;
    border-color: var(--color-accent-lavender);
    color: #7C6C8F;
}

.btn-danger {
    background: var(--color-accent-coral);
    border-color: var(--color-accent-coral);
}
.btn-danger:hover {
    background: #EF8E87;
    border-color: #EF8E87;
}

.btn-primary {
    background: var(--color-primary);
    border-color: var(--color-primary);
}
.btn-primary:hover {
    background: var(--color-primary-hover);
    border-color: var(--color-primary-hover);
}

.btn-info {
    background: var(--color-accent-lavender);
    border-color: var(--color-accent-lavender);
}

/* ---- Admin Switchboard Tiles ---- */

.admin-tile-dark {
    height: 140px;
    border-radius: var(--radius-lg);
    font-size: 1.1rem;
    font-weight: 600;
    background: var(--color-text-primary);
    color: white;
    width: 100%;
    transition: var(--transition-base);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-decoration: none;
}

.admin-tile-primary {
    height: 140px;
    border-radius: var(--radius-lg);
    font-size: 1.1rem;
    font-weight: 600;
    background: var(--color-primary);
    color: white;
    width: 100%;
    transition: var(--transition-base);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-decoration: none;
}

.admin-tile-dark:hover,
.admin-tile-primary:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
    color: white;
}

/* ---- Utility (preserved for other templates) ---- */

/* ============================================================
   Mobile Site (m. subdomain) Overrides
   ============================================================ */

body.mobile-site {
    --header-height-logged-out: 60px;
    --header-height-logged-in: 70px;
}

body.mobile-site .navbar {
    padding: 8px 12px;
}

body.mobile-site .navbar-brand {
    font-size: 1.1rem;
}

/* --- Mobile User List (compact rows) --- */

.mobile-user-list {
    display: flex;
    flex-direction: column;
    gap: 2px;
    background: var(--color-surface);
    border-radius: var(--radius-md);
    border: 1px solid var(--color-border);
    overflow: hidden;
}

.mobile-user-row {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 16px;
    text-decoration: none;
    color: var(--color-text-primary);
    background: var(--color-surface);
    border-bottom: 1px solid var(--color-border);
    transition: var(--transition-fast);
}

.mobile-user-row:last-child {
    border-bottom: none;
}

.mobile-user-row:hover,
.mobile-user-row:active {
    background: var(--color-primary-light);
}

.mobile-user-row:active {
    transform: scale(0.99);
}

.mobile-avatar {
    width: 44px;
    height: 44px;
    border-radius: var(--radius-circle);
    object-fit: cover;
    flex-shrink: 0;
}

.mobile-avatar-letter {
    width: 44px;
    height: 44px;
    border-radius: var(--radius-circle);
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    font-size: 1.1rem;
    background: var(--color-primary-light);
    color: var(--color-primary);
    flex-shrink: 0;
}

.mobile-user-name {
    font-weight: 500;
    font-size: 1rem;
    flex: 1;
}

/* --- Mobile Product Cards --- */

body.mobile-site .product-card {
    padding: 16px;
}

body.mobile-site .product-img {
    width: 70px;
    height: 70px;
}

body.mobile-site .purchase-btn {
    padding: 16px;
    font-size: 1.05rem;
}

/* --- Mobile Page Title --- */

body.mobile-site .page-title {
    font-size: 1.2rem;
    margin-bottom: 16px;
}

/* --- Mobile Category Nav --- */

body.mobile-site .category-nav {
    display: flex;  /* restore horizontal chips on mobile */
    padding: 8px 12px;
    gap: 6px;
}

body.mobile-site .nav-chip {
    padding: 6px 14px;
    font-size: 0.85rem;
}

body.mobile-site .category-sidebar {
    display: none;
}

body.mobile-site.logged-in .container {
    margin-left: auto;
}

/* ---- Utility (preserved for other templates) ---- */

.hidden { display: none !important; }

/* ---- Purchase Toast ---- */

#purchaseToast {
    position: fixed;
    inset: 0;
    z-index: 9999;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(0, 0, 0, 0.35);
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.2s ease;
}

#purchaseToast.show {
    opacity: 1;
}

#purchaseToastInner {
    background: var(--color-surface);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-lg);
    padding: 40px 56px;
    text-align: center;
    transform: scale(0.85);
    transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
}

#purchaseToast.show #purchaseToastInner {
    transform: scale(1);
}

#purchaseToastCheck {
    font-size: 3.5rem;
    line-height: 1;
    margin-bottom: 12px;
    color: #10B981;
}

#purchaseToastProduct {
    font-size: 1.4rem;
    font-weight: 600;
    color: var(--color-text-primary);
    margin-bottom: 4px;
}

#purchaseToastPrice {
    font-size: 1.1rem;
    color: var(--color-text-secondary);
    font-weight: 500;
}
